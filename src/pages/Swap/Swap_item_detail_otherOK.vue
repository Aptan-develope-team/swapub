<template>
<div>
<!-- <body class="item noSearchPage swap other"> -->
	<!-- Header -->
	<app-header></app-header>
	<!-- Header END -->
	<div id="main">
		<div class="breadcrumb">
			<i>Swapub</i><i> &#62; 交換</i><i> &#62; 3C電子</i><i> &#62; 戴爾（Dell）Inspiron 5000二合一：價格549美元</i><i></i>
		</div>
		<div class="content">
			<div class="conBlock infoBlock clear">
				<div class="infoPad">
					<dl>
						<dt>
							<ul class="userInfo">
								<li class="userPic"><a href="menu_u_myitem_other.html?j"><img src="../../../static/images/ws_user_img_5.png" alt=""></a></li>
								<li class="userDetail"><h3 class="userName"><i>我(</i>Rock stone<i>)</i></h3><span class="userAdd">台北市，台灣</span></li>
								<li class="timer"><span>11分鐘前</span></li>
							</ul>
						</dt>
						<dd>
							<ul class="itemImg">
								<li><img src="../../../static/images/img_item_13.jpg" alt=""></li>
								<!-- <li class="action"><img src="images/ws_it_img_2.jpg" alt=""></li> -->
							</ul>
                        </dd>
                        <dd>
                            <ul class="editPad action">
                                <li>
                                    <p class="swapAdd">+<img src="../../../static/images/icon_addmoney.png" alt=""> TWD 1000</p>
                                    <p class="swapAdd">+<img src="../../../static/images/icon_addserv.png" alt=""> 電玩展跑腿買遊戲</p>
                                </li>
                            </ul>
                        </dd>
					</dl>
				</div>
				<div class="infoPad">
					<dl class="CG_scorll">
						<dt>
							<ul class="itemTitle">
								<li><h1>夏威夷風四弦烏克麗麗</h1></li>
								<li class="itemTag"><a>#dog</a><a>#black</a></li>
								<li>
									<p>學音樂孩子不會變壞~ 不用再花大錢買樂器囉~ 夏威夷風四弦烏克麗麗，讓孩子可以輕鬆玩音樂~ 輕盈好拿，容易上手，孩子的小手也能穩穩拿住，玩得開心！還可調整琴弦，使音色更好聽~ 現在就來激發孩子的創造力，譜出屬於自己的樂曲吧！</p>
								</li>
							</ul>
						</dt>
						<dd>
							<ul class="itemInfo">
								<li><span>我想要交換到的物品</span><p>大型的家居擺飾或是其他等值商品都可以！</p></li>
								<li><p>TWD <i>4500</i></p></li>
								<li><span>交貨細節</span><p>郵寄&nbsp;&nbsp;&nbsp;&nbsp;NT$120</p></li>
							</ul>
						</dd>
						<dd class="btnPad">
							<ul>
								<li>
									<a class="btn_o btn_whisper"><i><img src="../../../static/images/icon_chat_w.png" alt=""></i>悄悄話</a>
								</li>
							</ul>
						</dd>
						<dd class="btnPad">
							<ul>
								<li>
									<a class="btn_o btn_whisper"><i><img src="../../../static/images/icon_chat_w.png" alt=""></i>悄悄話</a>
								</li>
							</ul>
						</dd>
						<dd>
							<ul class="whisperPad done">
								<li>悄悄話來交換<span class="btn_closePop"></span></li>
								<li>
									<dl>
										<dt class="swapPad">
											<span class="addImg btn_addImg"></span>
											<h3>按這裡提交換</h3>
											<h4>安全交易提醒</h4>
											<p>為何保障您的權益，建議您在此進行對話，提醒您再進行交易時請務必確認交易內容。若您使用第三方軟體溝通我們將無法為您記錄完整的交易過程，請協助我們保障您權益。</p>
										</dt>
										<dd class="wMsgPad CG_scorll_auto">
											<div class="msgMask">
												<div class="otherUserMsg">
													<span class="userPic"><a href="menu_u_myitem_other.html?j"><img src="../../../static/images/ws_user_img_6.png" alt=""></a></span>
													<p class="msgBlock">
														<span>請問1600元可以換嗎？</span><i class="date">2017/10/27 19：55</i>
													</p>
												</div>
												<div class="myMsg">
													<p class="msgBlock">
														<span>嗯！可以啊～那要怎麼換？</span><i class="date">2017/10/27 19：55</i>
													</p>
												</div>
												<div class="otherUserMsg">
													<span class="userPic"><a href="menu_u_myitem_other.html?j"><img src="../../../static/images/ws_user_img_6.png" alt=""></a></span>
													<p class="msgBlock">
														<span>請問1600元可以換嗎？</span><i class="date">2017/10/27 19：55</i>
													</p>
												</div>
												<div class="myMsg">
													<p class="msgBlock">
														<span>嗯！可以啊～那要怎麼換？</span><i class="date">2017/10/27 19：55</i>
													</p>
												</div>
												<div class="otherUserMsg">
													<span class="userPic"><a href="menu_u_myitem_other.html?j"><img src="../../../static/images/ws_user_img_6.png" alt=""></a></span>
													<p class="msgBlock">
														<span>你有郵寄服務嗎？這東西有點大！</span><i class="date">2017/10/27 19：58</i>
													</p>
												</div>
												<div class="myMsg">
													<p class="msgBlock">
														<span>可以喔！但是運費需要由你這邊負擔</span><i class="date">2017/10/27 19：59</i>
													</p>
												</div>
												<div class="otherUserMsg">
													<span class="userPic"><a href="menu_u_myitem_other.html?j"><img src="../../../static/images/ws_user_img_6.png" alt=""></a></span>
													<p class="msgBlock">
														<span>嗯嗯！好的沒問題</span><i class="date">2017/10/27 20：15</i>
													</p>
												</div>
											</div>
											<span class="goTop"></span>
										</dd>
										<dd>
											<span class="btn_img">
												<label for="sendImg"></label>
												<input type="file" id="sendImg">
											</span>
											<input type="text" name="" value="" placeholder="我想說...">
											<span class="btn_o"></span>
										</dd>
									</dl>
								</li>
							</ul>
						</dd>
					</dl>
				</div>
			</div>
		</div>
	   <div class="btn_openPop"></div>
	</div><!-- main END -->

	<!-- Footer -->
  <app-footer></app-footer>
	<div class="backTop CGt"></div>
	<!-- Light Box -->
	<div id="popContainer" style="top:-100vh;">
		<div class="popContent popDealPad">
            <div class="btn_closePop"></div>
			<h3>資訊確認</h3>
			<p>請提供您的聯絡資訊，方便讓對方與您聯絡！</p>
            <p>我們不會公開您的資料</p>
            <form action="">
                <div class="dealDetail">
                    <p>姓名<input type="text" value="Jing Yun Lee"></p>
                    <p>電子信箱<input type="email" value="free@gmail.com"></p>
                    <p>電話<input type="number" value="987654321"></p>
                </div>
                <p class="popCheckPad"><input type="checkbox">不要顯示我的手機號碼</p>
                <div class="popCheckPad">
                    <p>按下「送出」後表示我同意</p>
                    <p><a href="exp_rule.html" target="_blank">服務條款</a>和<a href="exp_rule.html" target="_blank">隱私權政策</a></p>
                    <input type="button" class="btn_gr btn_cancel" value="取消">
                    <input type="button" class="btn_o btn_sure" value="確定" onclick="deal()">
                </div>
            </form>
        </div>
        <div class="popContent popSys popChangePad">
            <div class="btn_closePop"></div>
            <h3>更改交換</h3>
            <p>請問你要取消交換還是要更改交換物品?</p>
            <div class="popCheckPad">
                <input type="button" class="btn_gr" value="取消交換" onclick="check();">
                <input type="button" class="btn_o btn_popChange" value="更改交換" onclick="">
            </div>
		</div>
		<div class="popContent popSys popCheckCancel">
            <div class="btn_closePop"></div>
            <h3>取消交換</h3>
            <p>你確定要取消交換嗎？</p>
            <div class="popCheckPad">
                <input type="button" class="btn_gr btn_cancel" value="取消">
                <input type="button" class="btn_o btn_sure" value="確定">
            </div>
        </div>
        <div class="popContent popEditSwap">
			<div class="btn_closePop"></div>
			<h3>您可以提出物品、價錢、服務等組合來交換</h3>
			<div class="popChoImg">
				<h4>提出物品</h4>
				<p>最多可以提出三個物品</p>
				<div>
					<span class="addImg btn_imgBox action getImg"></span>
					<span class="addImg btn_imgBox"></span>
					<span class="addImg btn_imgBox"></span>
				</div>
			</div>
			<div class="popAddPrice">
				<h4>給個價錢</h4>
				<p><b>+</b><i></i>
					<span class="currency btn_g"><i>TWD</i>
						<span class="curBlock"><b>AED</b><b>AUD</b><b>CAD</b><b>CNY</b><b>EUR</b><b>HKD</b><b>JPY</b><b>KRW</b><b>TWD</b><b>USD</b></span>
					</span>
					<input type="number" value="1000" min="0"></p>
			</div>
			<div class="popAddServ">
				<h4>提供服務</h4>
				<p><b>+</b><i></i><input type="text" placeholder="例：教我彈烏克麗麗" value="電玩展跑腿買遊戲"></p>
			</div>
			<div class="popFree"><p><input type="checkbox">我能免費索取？</p></div>
			<div class="popCheckPad">
				<input type="button" class="btn_w btn_cancel" value="取消">
				<input type="submit" class="btn_o btn_sure" value="送出">
			</div>
		</div>
		<div class="popContent fake popImgList" style="top: 0px;">
            <div class="popMask clear">
                <div class="btn_closeThisPop"></div>
                <h3>選擇照片或物品</h3>
                <div class="popChoImg">
                    <dl>
                        <dt class="addImg btn_upload"><span>+選擇照片或物品</span><i>01</i></dt>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/mk_it_img_1.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/mk_it_img_2.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_slider_07.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_slider_04.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_03.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic action"><img src="../../../static/images/img_swapPad_01.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_04.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_05.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/ws_it_img_1.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_06.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_07.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/img_item_08.jpg" alt=""></dd>
                        <dd class="addImg btn_choosePic"><img src="../../../static/images/mk_it_img_4.jpg" alt=""></dd>
                    </dl>
                </div>
            </div>
        </div>
		
	</div>
	<!-- Loader  -->
	<div class="loadPad"><div class="loader_g"><i></i><i></i><i></i><i></i></div></div>


</div>
</template>

 <script>
import Header from '../../components/Header.vue'
import Footer from '../../components/Footer.vue'

export default {
  components: {
    'app-header': Header,
    'app-footer': Footer

  },
  mounted() {
    setTimeout(() => {
      var element = document.getElementById("body_class");
      element.removeAttribute("class");
      element.classList.add("item", "noSearchPage", "swap", "other");

      $('.loadPad').animate({
        opacity: 0
      }, 1000, function () {
        $('.loadPad').css({
          'display': 'none'
        });
      });
      $(window).on('load', function () {
        if ($(window).width() > 1024) {
          var s = skrollr.init();
        }

        // $('#header').find('.market').addClass('action');
      })
      $(document).ready(function () {
        $('.btn_deal').click(function () {
          $('#popContainer').removeClass();
          $('#popContainer').stop().animate({
            top: 0
          }, 300);
          $('#popContainer').addClass('popDeal');
        });
        $('.btn_change').click(function () {
          $('#popContainer').removeClass();
          $('#popContainer').stop().animate({
            top: 0
          }, 300);
          $('#popContainer').addClass('popChange');
        });
        $('.btn_popChange').click(function () {
          $('#popContainer').removeClass();
          $('#popContainer').stop().animate({
            top: 0
          }, 300);
          $('#popContainer').addClass('addSwap');
        });

        var $mainBt = $('.mainBtPad').find('a'),
          $conBlock = $('.conBlock');
        $conBlock.eq(1).css({
          'display': 'none'
        });
        $mainBt.click(function () {
          var ind = $(this).index();
          $(this).addClass('action').siblings().removeClass('action');
          $conBlock.eq(ind).fadeIn().siblings('.conBlock').css({
            'display': 'none'
          });
        });


        		//提出交換
            var $imgBox = $('.popEditSwap').find('.btn_imgBox'),
				$picList = $('.btn_choosePic'),
                $upload = $('.btn_upload'),
                btnInd,
                $popUpload = $('.popImgList').find('.btn_upload'),
                $popAddImg = $('.popImgList').find('.addImg'),
                $uploadW;
			//點提出物品框框,出現圖片清單
			$imgBox.click(function(){
				btnInd = $(this).index('.btn_imgBox');
				$('#popContainer').removeClass('popShare');
				$('#popContainer').removeClass('popReport');
				$('#popContainer').removeClass('popDel');
				$('.popImgList').stop().animate({top : 0}, 300);
                $('#popContainer').addClass('popChooseImg');
                $uploadW = $popAddImg.eq(1).outerWidth();
                $popAddImg.css({'height': $uploadW});
            });
            
			$picList.click(function(){
				var pInd = $(this).index('.btn_choosePic');
				//橘色邊框
				$picList.eq(pInd).addClass('action').siblings().removeClass('action');
				//取得點選的圖片連結
				var img = $picList.eq(pInd).find('img').attr('src');
				console.log(img);
				//圖片清單消失
				$('.popImgList').stop().animate({top : -100 + 'vh'}, 300);
				$('#popContainer').removeClass('popChooseImg');
				//將圖片匯入當下的提出物品框框
				$imgBox.eq(btnInd).css({'background-image':'url('+img+')'});
				$imgBox.eq(btnInd).addClass('getImg');
			});

      })

      function deal() {
        $('.infoPad').find('.btn_deal').fadeOut(100);
        $('.infoPad').find('.btn_whisper').css({
          'width': 90 + '%'
        });
        }
		
		function check(){
            $('#popContainer').removeClass();
            $('#popContainer').stop().animate({top : 0}, 300);
            $('#popContainer').addClass('popCheck');
      }
      var $itTips = $('.itTips');
      $itTips.click(function () {
        $itTips.toggleClass('action');
        $itInfo.eq(1).toggleClass('action');
        if ($itTips.hasClass('action')) {
          $itTips.text('less');
        } else {
          $itTips.html('more<i></i><i></i><i></i>');
        }
      });

      var $itemImg = $('.itemImg'),
        imgCont = $itemImg.find('.imgCont'),
        $imgList = $itemImg.find('.imgList'),
        $itInfo = $('.itemTitle').find('li'),
        $itInfoH = $itInfo.eq(1).height() + 'px',
        $itMaxH = $itInfo.eq(1).css('max-height'),
        $btn_like = $('.btn_like'),
        $infoPad = $('.conBlock.infoBlock').find('.infoPad'),
        $infoPadH = $infoPad.eq(0).height(),
        $btnPadH = $('.btnPad').outerHeight(true);
      $infoPad.eq(1).css({
        'min-height': $infoPadH
      });
      $infoPad.eq(1).find('dl').css({
        // 'height': $infoPadH - $btnPadH
      });
      var btnWhi = $('.btnPad').find('.btn_whisper'),
        whisperPad = $('.whisperPad'),
        whGoTop = whisperPad.find('.goTop'),
        closeWhBt = whisperPad.find('.btn_closePop');
      btnWhi.click(function () {
        whisperPad.animate({
          'left': 0,
          'opacity': '1'
        }, 300);
      });
      whGoTop.click(function () {
        $('.wMsgPad').scrollTop(0);
      });
      closeWhBt.click(function () {
        whisperPad.animate({
          'left': -110 + '%',
          'opacity': '0'
        }, 300);
      });
      if ($itInfoH < $itMaxH) {
        if ($itTips == true) {
          $itTips.remove();
        }
      } else {
        $itInfo.eq(1).append('<span class="itTips">more<i></i><i></i><i></i></span>');
      }
      $('.btn_closePop').click(function () {
        $('#popContainer').stop().animate({
          top: -100 + 'vh'
        }, 500, function () {
          // $('#popContainer').fadeOut();
          $('#popContainer').removeClass();
        });
        if ($('body').hasClass('mDeal')) {
          $('.post').find('.btn_submit').css({
            'display': 'none'
          }).siblings().fadeIn();
          $('.post').find('.inquireDeta.userData').css({
            'display': 'none'
          }).siblings('.inquireDeta').fadeIn();
        }
      });

      $('.btn_cancel').click(function () {
        $('#popContainer').stop().animate({
          top: -100 + 'vh'
        }, 500);
      });
      $('.btn_sure').click(function () {
        $('#popContainer').stop().animate({
          top: -100 + 'vh'
        }, 500);
      });
    }, 0)
  }
}


</script>